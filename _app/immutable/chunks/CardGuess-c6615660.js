import{S as ee,i as te,s as O,l as k,m as w,p as M,h as u,q as m,b as D,g as Y,t as y,n as H,d as U,f as v,H as j,I as J,J as Q,K as Z,N as $e,O as se,x as F,y as C,z as G,C as B,e as x,u as T,v as N,F as g,G as K,w as X,a as q,c as I,L as W,U as V,V as he,M as ge,W as ne,X as be}from"./index-2cb11f61.js";import{L as ve}from"./LoadingIcon-c8510d68.js";import{f as oe}from"./index-854bf481.js";import{R as ke}from"./Modal.svelte_svelte_type_style_lang-a6861bc3.js";import{c as we}from"./close-icon-2ac8c1d9.js";function re(r){let e,l,t;const s=r[3].default,n=j(s,r,r[2],null);return{c(){e=k("div"),n&&n.c(),this.h()},l(o){e=w(o,"DIV",{class:!0});var i=M(e);n&&n.l(i),i.forEach(u),this.h()},h(){m(e,"class","contained svelte-36y3ea")},m(o,i){D(o,e,i),n&&n.m(e,null),t=!0},p(o,i){n&&n.p&&(!t||i&4)&&J(n,s,o,o[2],t?Z(s,o[2],i,null):Q(o[2]),null)},i(o){t||(v(n,o),o&&$e(()=>{l||(l=se(e,oe,{duration:500},!0)),l.run(1)}),t=!0)},o(o){y(n,o),o&&(l||(l=se(e,oe,{duration:500},!1)),l.run(0)),t=!1},d(o){o&&u(e),n&&n.d(o),o&&l&&l.end()}}}function Ee(r){let e,l=r[0],t,s=re(r);return{c(){e=k("div"),s.c(),this.h()},l(n){e=w(n,"DIV",{class:!0});var o=M(e);s.l(o),o.forEach(u),this.h()},h(){m(e,"class","container svelte-36y3ea")},m(n,o){D(n,e,o),s.m(e,null),t=!0},p(n,[o]){o&1&&O(l,l=n[0])?(Y(),y(s,1,1,H),U(),s=re(n),s.c(),v(s,1),s.m(e,null)):s.p(n,o)},i(n){t||(v(s),t=!0)},o(n){y(s),t=!1},d(n){n&&u(e),s.d(n)}}}function ye(r,e,l){let{$$slots:t={},$$scope:s}=e,{key:n}=e,{skipMount:o=!1}=e;return r.$$set=i=>{"key"in i&&l(0,n=i.key),"skipMount"in i&&l(1,o=i.skipMount),"$$scope"in i&&l(2,s=i.$$scope)},[n,o,s,t]}class pe extends ee{constructor(e){super(),te(this,e,ye,Ee,O,{key:0,skipMount:1})}}function Se(r){let e,l,t,s;return{c(){e=k("button"),l=T(r[0]),this.h()},l(n){e=w(n,"BUTTON",{class:!0});var o=M(e);l=N(o,r[0]),o.forEach(u),this.h()},h(){m(e,"class","button-red svelte-1eoe9jy")},m(n,o){D(n,e,o),g(e,l),t||(s=K(e,"click",r[3]),t=!0)},p(n,o){o&1&&X(l,n[0])},i:H,o:H,d(n){n&&u(e),t=!1,s()}}}function De(r){let e;const l=r[2].default,t=j(l,r,r[4],null);return{c(){t&&t.c()},l(s){t&&t.l(s)},m(s,n){t&&t.m(s,n),e=!0},p(s,n){t&&t.p&&(!e||n&16)&&J(t,l,s,s[4],e?Z(l,s[4],n,null):Q(s[4]),null)},i(s){e||(v(t,s),e=!0)},o(s){y(t,s),e=!1},d(s){t&&t.d(s)}}}function Me(r){let e,l,t,s;const n=[De,Se],o=[];function i(a,c){return a[1]?0:1}return e=i(r),l=o[e]=n[e](r),{c(){l.c(),t=x()},l(a){l.l(a),t=x()},m(a,c){o[e].m(a,c),D(a,t,c),s=!0},p(a,c){let f=e;e=i(a),e===f?o[e].p(a,c):(Y(),y(o[f],1,1,()=>{o[f]=null}),U(),l=o[e],l?l.p(a,c):(l=o[e]=n[e](a),l.c()),v(l,1),l.m(t.parentNode,t))},i(a){s||(v(l),s=!0)},o(a){y(l),s=!1},d(a){o[e].d(a),a&&u(t)}}}function Le(r){let e,l;return e=new pe({props:{key:r[1],$$slots:{default:[Me]},$$scope:{ctx:r}}}),{c(){F(e.$$.fragment)},l(t){C(e.$$.fragment,t)},m(t,s){G(e,t,s),l=!0},p(t,[s]){const n={};s&2&&(n.key=t[1]),s&19&&(n.$$scope={dirty:s,ctx:t}),e.$set(n)},i(t){l||(v(e.$$.fragment,t),l=!0)},o(t){y(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function qe(r,e,l){let{$$slots:t={},$$scope:s}=e,{buttonText:n}=e,o=!1;const i=()=>l(1,o=!0);return r.$$set=a=>{"buttonText"in a&&l(0,n=a.buttonText),"$$scope"in a&&l(4,s=a.$$scope)},[n,o,t,i,s]}class le extends ee{constructor(e){super(),te(this,e,qe,Le,O,{buttonText:0})}}const Ie=r=>({}),ie=r=>({}),Te=r=>({}),ae=r=>({});function Ne(r){let e,l,t,s,n,o,i,a,c,f,p;const b=r[9].title,$=j(b,r,r[8],ae),E=r[9].body,d=j(E,r,r[8],ie);return{c(){e=k("dialog"),l=k("button"),t=k("img"),n=q(),o=k("h1"),$&&$.c(),i=q(),a=k("div"),d&&d.c(),this.h()},l(h){e=w(h,"DIALOG",{class:!0});var L=M(e);l=w(L,"BUTTON",{class:!0});var z=M(l);t=w(z,"IMG",{src:!0,alt:!0}),z.forEach(u),n=I(L),o=w(L,"H1",{class:!0});var _=M(o);$&&$.l(_),_.forEach(u),i=I(L),a=w(L,"DIV",{class:!0});var S=M(a);d&&d.l(S),S.forEach(u),L.forEach(u),this.h()},h(){W(t.src,s=we)||m(t,"src",s),m(t,"alt","Close modal"),m(l,"class","icon-button close svelte-140dze1"),m(o,"class","title"),m(a,"class","body"),m(e,"class","dialog svelte-140dze1"),V(e,"fullscreen",r[0]),V(e,"fullscreenMobile",r[1]),V(e,"close-dialog",r[4])},m(h,L){D(h,e,L),g(e,l),g(l,t),g(e,n),g(e,o),$&&$.m(o,null),g(e,i),g(e,a),d&&d.m(a,null),r[10](e),c=!0,f||(p=[K(l,"click",r[2]),K(e,"click",r[5])],f=!0)},p(h,[L]){$&&$.p&&(!c||L&256)&&J($,b,h,h[8],c?Z(b,h[8],L,Te):Q(h[8]),ae),d&&d.p&&(!c||L&256)&&J(d,E,h,h[8],c?Z(E,h[8],L,Ie):Q(h[8]),ie),L&1&&V(e,"fullscreen",h[0]),L&2&&V(e,"fullscreenMobile",h[1]),L&16&&V(e,"close-dialog",h[4])},i(h){c||(v($,h),v(d,h),c=!0)},o(h){y($,h),y(d,h),c=!1},d(h){h&&u(e),$&&$.d(h),d&&d.d(h),r[10](null),f=!1,he(p)}}}function Ae(r,e,l){let{$$slots:t={},$$scope:s}=e,{fullScreen:n=!1}=e,{mobileFullScreen:o=!1}=e,i,a=!1;function c(){i.showModal()}function f(){return i.open?new Promise(function(E){i.addEventListener("webkitAnimationEnd",d=>{d.animationName.includes("hide")&&d.pseudoElement===""&&(l(4,a=!1),i.close(),i.removeEventListener("webkitAnimationEnd",d.callee,!1),document.querySelector("body").style.overflowY="",E())},!1),l(4,a=!0)}):Promise.resolve()}function p(){i.close()}function b(E){const d=i.getBoundingClientRect();d.top<=E.clientY&&E.clientY<=d.top+d.height&&d.left<=E.clientX&&E.clientX<=d.left+d.width||f()}function $(E){ge[E?"unshift":"push"](()=>{i=E,l(3,i)})}return r.$$set=E=>{"fullScreen"in E&&l(0,n=E.fullScreen),"mobileFullScreen"in E&&l(1,o=E.mobileFullScreen),"$$scope"in E&&l(8,s=E.$$scope)},[n,o,f,i,a,b,c,p,s,t,$]}class Fe extends ee{constructor(e){super(),te(this,e,Ae,Ne,O,{fullScreen:0,mobileFullScreen:1,showModal:6,close:2,closeNow:7})}get showModal(){return this.$$.ctx[6]}get close(){return this.$$.ctx[2]}get closeNow(){return this.$$.ctx[7]}}function ce(r){return r.normalize("NFD").replace(/\p{Diacritic}/gu,"")}const Ce={matchesAnswer:(r,e)=>ce(r.toLowerCase())===ce(e.toLowerCase())};function fe(r){let e,l;return e=new ve({}),{c(){F(e.$$.fragment)},l(t){C(e.$$.fragment,t)},m(t,s){G(e,t,s),l=!0},i(t){l||(v(e.$$.fragment,t),l=!0)},o(t){y(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function ue(r){let e,l=(r[0].flavorText+"").replace(r[0].name,"BLANK")+"",t,s,n=r[0],o,i,a=_e(r);return{c(){e=k("q"),t=T(l),s=q(),a.c(),o=x(),this.h()},l(c){e=w(c,"Q",{class:!0});var f=M(e);t=N(f,l),f.forEach(u),s=I(c),a.l(c),o=x(),this.h()},h(){m(e,"class","flavor-text svelte-vdcqbh")},m(c,f){D(c,e,f),g(e,t),D(c,s,f),a.m(c,f),D(c,o,f),i=!0},p(c,f){(!i||f&1)&&l!==(l=(c[0].flavorText+"").replace(c[0].name,"BLANK")+"")&&X(t,l),f&1&&O(n,n=c[0])?(Y(),y(a,1,1,H),U(),a=_e(c),a.c(),v(a,1),a.m(o.parentNode,o)):a.p(c,f)},i(c){i||(v(a),i=!0)},o(c){y(a),i=!1},d(c){c&&u(e),c&&u(s),c&&u(o),a.d(c)}}}function Ge(r){let e,l,t=r[0].set.name+"",s,n,o,i,a,c,f;return{c(){e=k("fieldset"),l=k("legend"),s=T(t),n=q(),o=k("img"),a=q(),c=k("img"),this.h()},l(p){e=w(p,"FIELDSET",{class:!0});var b=M(e);l=w(b,"LEGEND",{class:!0});var $=M(l);s=N($,t),n=I($),o=w($,"IMG",{src:!0,class:!0}),$.forEach(u),a=I(b),c=w(b,"IMG",{src:!0,class:!0}),b.forEach(u),this.h()},h(){W(o.src,i=r[0].set.images.symbol)||m(o,"src",i),m(o,"class","set-icon svelte-vdcqbh"),m(l,"class","svelte-vdcqbh"),W(c.src,f=r[0].set.images.logo)||m(c,"src",f),m(c,"class","set-logo svelte-vdcqbh"),m(e,"class","answer svelte-vdcqbh")},m(p,b){D(p,e,b),g(e,l),g(l,s),g(l,n),g(l,o),g(e,a),g(e,c)},p(p,b){b&1&&t!==(t=p[0].set.name+"")&&X(s,t),b&1&&!W(o.src,i=p[0].set.images.symbol)&&m(o,"src",i),b&1&&!W(c.src,f=p[0].set.images.logo)&&m(c,"src",f)},d(p){p&&u(e)}}}function Be(r){let e,l,t,s,n=r[0].subtypes.find(me)+"",o;return{c(){e=k("fieldset"),l=k("legend"),t=T("Stage"),s=q(),o=T(n),this.h()},l(i){e=w(i,"FIELDSET",{class:!0});var a=M(e);l=w(a,"LEGEND",{class:!0});var c=M(l);t=N(c,"Stage"),c.forEach(u),s=I(a),o=N(a,n),a.forEach(u),this.h()},h(){m(l,"class","svelte-vdcqbh"),m(e,"class","answer svelte-vdcqbh")},m(i,a){D(i,e,a),g(e,l),g(l,t),g(e,s),g(e,o)},p(i,a){a&1&&n!==(n=i[0].subtypes.find(me)+"")&&X(o,n)},d(i){i&&u(e)}}}function Oe(r){let e,l,t,s,n=r[0].attacks[Math.floor(Math.random()*r[0].attacks.length)].name+"",o;return{c(){e=k("fieldset"),l=k("legend"),t=T("Attack name"),s=q(),o=T(n),this.h()},l(i){e=w(i,"FIELDSET",{class:!0});var a=M(e);l=w(a,"LEGEND",{class:!0});var c=M(l);t=N(c,"Attack name"),c.forEach(u),s=I(a),o=N(a,n),a.forEach(u),this.h()},h(){m(l,"class","svelte-vdcqbh"),m(e,"class","answer svelte-vdcqbh")},m(i,a){D(i,e,a),g(e,l),g(l,t),g(e,s),g(e,o)},p(i,a){a&1&&n!==(n=i[0].attacks[Math.floor(Math.random()*i[0].attacks.length)].name+"")&&X(o,n)},d(i){i&&u(e)}}}function _e(r){let e,l,t,s,n,o,i,a,c,f,p,b,$,E,d,h,L,z;return p=new le({props:{buttonText:"Show set",$$slots:{default:[Ge]},$$scope:{ctx:r}}}),$=new le({props:{buttonText:"Show stage",$$slots:{default:[Be]},$$scope:{ctx:r}}}),d=new le({props:{buttonText:"Show attack",$$slots:{default:[Oe]},$$scope:{ctx:r}}}),{c(){e=k("form"),l=k("input"),t=q(),s=k("button"),n=T("Submit"),o=q(),i=k("h1"),a=T("Lifelines"),c=q(),f=k("div"),F(p.$$.fragment),b=q(),F($.$$.fragment),E=q(),F(d.$$.fragment),this.h()},l(_){e=w(_,"FORM",{class:!0});var S=M(e);l=w(S,"INPUT",{type:!0,placeholder:!0,class:!0}),t=I(S),s=w(S,"BUTTON",{type:!0,class:!0});var P=M(s);n=N(P,"Submit"),P.forEach(u),S.forEach(u),o=I(_),i=w(_,"H1",{});var R=M(i);a=N(R,"Lifelines"),R.forEach(u),c=I(_),f=w(_,"DIV",{class:!0});var A=M(f);C(p.$$.fragment,A),b=I(A),C($.$$.fragment,A),E=I(A),C(d.$$.fragment,A),A.forEach(u),this.h()},h(){m(l,"type","text"),m(l,"placeholder","Your guess..."),m(l,"class","svelte-vdcqbh"),m(s,"type","submit"),m(s,"class","button-red-small"),m(e,"class","row guess-form svelte-vdcqbh"),m(f,"class","column")},m(_,S){D(_,e,S),g(e,l),ne(l,r[1]),g(e,t),g(e,s),g(s,n),D(_,o,S),D(_,i,S),g(i,a),D(_,c,S),D(_,f,S),G(p,f,null),g(f,b),G($,f,null),g(f,E),G(d,f,null),h=!0,L||(z=[K(l,"input",r[6]),K(e,"submit",be(r[4]))],L=!0)},p(_,S){S&2&&l.value!==_[1]&&ne(l,_[1]);const P={};S&513&&(P.$$scope={dirty:S,ctx:_}),p.$set(P);const R={};S&513&&(R.$$scope={dirty:S,ctx:_}),$.$set(R);const A={};S&513&&(A.$$scope={dirty:S,ctx:_}),d.$set(A)},i(_){h||(v(p.$$.fragment,_),v($.$$.fragment,_),v(d.$$.fragment,_),h=!0)},o(_){y(p.$$.fragment,_),y($.$$.fragment,_),y(d.$$.fragment,_),h=!1},d(_){_&&u(e),_&&u(o),_&&u(i),_&&u(c),_&&u(f),B(p),B($),B(d),L=!1,he(z)}}}function Ve(r){let e,l,t=r[0]&&ue(r);return{c(){e=k("div"),t&&t.c(),this.h()},l(s){e=w(s,"DIV",{class:!0});var n=M(e);t&&t.l(n),n.forEach(u),this.h()},h(){m(e,"class","column")},m(s,n){D(s,e,n),t&&t.m(e,null),l=!0},p(s,n){s[0]?t?(t.p(s,n),n&1&&v(t,1)):(t=ue(s),t.c(),v(t,1),t.m(e,null)):t&&(Y(),y(t,1,1,()=>{t=null}),U())},i(s){l||(v(t),l=!0)},o(s){y(t),l=!1},d(s){s&&u(e),t&&t.d()}}}function Ye(r){let e;return{c(){e=T("Wrong guess!")},l(l){e=N(l,"Wrong guess!")},m(l,t){D(l,e,t)},d(l){l&&u(e)}}}function Ue(r){let e;return{c(){e=T("You were right!")},l(l){e=N(l,"You were right!")},m(l,t){D(l,e,t)},d(l){l&&u(e)}}}function ze(r){let e;function l(n,o){return n[2]?Ue:Ye}let t=l(r),s=t(r);return{c(){e=k("span"),s.c(),this.h()},l(n){e=w(n,"SPAN",{slot:!0});var o=M(e);s.l(o),o.forEach(u),this.h()},h(){m(e,"slot","title")},m(n,o){D(n,e,o),s.m(e,null)},p(n,o){t!==(t=l(n))&&(s.d(1),s=t(n),s&&(s.c(),s.m(e,null)))},d(n){n&&u(e),s.d()}}}function Pe(r){let e,l;return e=new ke({props:{slot:"body",card:r[0],guessedCorrectly:r[2]}}),{c(){F(e.$$.fragment)},l(t){C(e.$$.fragment,t)},m(t,s){G(e,t,s),l=!0},p(t,s){const n={};s&1&&(n.card=t[0]),s&4&&(n.guessedCorrectly=t[2]),e.$set(n)},i(t){l||(v(e.$$.fragment,t),l=!0)},o(t){y(e.$$.fragment,t),l=!1},d(t){B(e,t)}}}function de(r){let e,l,t={mobileFullScreen:!0,$$slots:{body:[Pe],title:[ze]},$$scope:{ctx:r}};return e=new Fe({props:t}),r[7](e),{c(){F(e.$$.fragment)},l(s){C(e.$$.fragment,s)},m(s,n){G(e,s,n),l=!0},p(s,n){const o={};n&517&&(o.$$scope={dirty:n,ctx:s}),e.$set(o)},i(s){l||(v(e.$$.fragment,s),l=!0)},o(s){y(e.$$.fragment,s),l=!1},d(s){r[7](null),B(e,s)}}}function Re(r){let e,l,t,s,n=r[0],o,i=!r[0]&&fe();t=new pe({props:{key:r[0],$$slots:{default:[Ve]},$$scope:{ctx:r}}});let a=de(r);return{c(){e=k("div"),i&&i.c(),l=q(),F(t.$$.fragment),s=q(),a.c(),this.h()},l(c){e=w(c,"DIV",{class:!0});var f=M(e);i&&i.l(f),l=I(f),C(t.$$.fragment,f),s=I(f),a.l(f),f.forEach(u),this.h()},h(){m(e,"class","column container svelte-vdcqbh")},m(c,f){D(c,e,f),i&&i.m(e,null),g(e,l),G(t,e,null),g(e,s),a.m(e,null),o=!0},p(c,[f]){c[0]?i&&(Y(),y(i,1,1,()=>{i=null}),U()):i?f&1&&v(i,1):(i=fe(),i.c(),v(i,1),i.m(e,l));const p={};f&1&&(p.key=c[0]),f&515&&(p.$$scope={dirty:f,ctx:c}),t.$set(p),f&1&&O(n,n=c[0])?(Y(),y(a,1,1,H),U(),a=de(c),a.c(),v(a,1),a.m(e,null)):a.p(c,f)},i(c){o||(v(i),v(t.$$.fragment,c),v(a),o=!0)},o(c){y(i),y(t.$$.fragment,c),y(a),o=!1},d(c){c&&u(e),i&&i.d(),B(t),a.d(c)}}}const me=r=>r==="Basic"||r.startsWith("Stage");function We(r,e,l){let{card:t=null}=e,s="",n=!1,o;function i(){return console.info(`getDialog returns ${o}`),o}function a(){return Ce.matchesAnswer(s,t.name)}function c(){l(2,n=a()),o.showModal()}function f(){s=this.value,l(1,s)}function p(b){ge[b?"unshift":"push"](()=>{o=b,l(3,o)})}return r.$$set=b=>{"card"in b&&l(0,t=b.card)},[t,s,n,o,c,i,f,p]}class Qe extends ee{constructor(e){super(),te(this,e,We,Re,O,{card:0,getDialog:5})}get getDialog(){return this.$$.ctx[5]}}export{Qe as C};
