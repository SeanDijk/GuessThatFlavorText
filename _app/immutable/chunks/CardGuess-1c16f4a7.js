import{M as $e,S as ne,i as oe,s as re,e as ae,b as S,g as Z,t as D,d as x,f as T,h as u,l as v,u as I,m as $,p as y,v as N,q as p,G as d,N as H,w as P,n as fe,F as ee,H as te,I as le,J as se,O as ke,P as we,a as L,c as M,Q,R as ge,T as be,x as O,y as Y,z as R,C as U,U as ce,V as Ee,W as X}from"./index-621a1bb0.js";import{L as Se}from"./LoadingIcon-a0a29feb.js";import{R as ye}from"./Modal.svelte_svelte_type_style_lang-7642ac20.js";function Te(r,{delay:e=0,duration:l=400,easing:n=$e}={}){const o=+getComputedStyle(r).opacity;return{delay:e,duration:l,easing:n,css:t=>`opacity: ${t*o}`}}function De(r){let e,l,n,o;return{c(){e=v("button"),l=I(r[0]),this.h()},l(t){e=$(t,"BUTTON",{class:!0});var s=y(e);l=N(s,r[0]),s.forEach(u),this.h()},h(){p(e,"class","button-red")},m(t,s){S(t,e,s),d(e,l),n||(o=H(e,"click",r[4]),n=!0)},p(t,s){s&1&&P(l,t[0])},i:fe,o:fe,d(t){t&&u(e),n=!1,o()}}}function Le(r){let e,l,n;const o=r[3].default,t=ee(o,r,r[2],null);return{c(){e=v("div"),t&&t.c()},l(s){e=$(s,"DIV",{});var i=y(e);t&&t.l(i),i.forEach(u)},m(s,i){S(s,e,i),t&&t.m(e,null),n=!0},p(s,i){t&&t.p&&(!n||i&4)&&te(t,o,s,s[2],n?se(o,s[2],i,null):le(s[2]),null)},i(s){n||(T(t,s),l||ke(()=>{l=we(e,Te,{}),l.start()}),n=!0)},o(s){D(t,s),n=!1},d(s){s&&u(e),t&&t.d(s)}}}function Me(r){let e,l,n,o;const t=[Le,De],s=[];function i(a,_){return a[1]?0:1}return e=i(r),l=s[e]=t[e](r),{c(){l.c(),n=ae()},l(a){l.l(a),n=ae()},m(a,_){s[e].m(a,_),S(a,n,_),o=!0},p(a,[_]){let k=e;e=i(a),e===k?s[e].p(a,_):(Z(),D(s[k],1,1,()=>{s[k]=null}),x(),l=s[e],l?l.p(a,_):(l=s[e]=t[e](a),l.c()),T(l,1),l.m(n.parentNode,n))},i(a){o||(T(l),o=!0)},o(a){D(l),o=!1},d(a){s[e].d(a),a&&u(n)}}}function Ie(r,e,l){let{$$slots:n={},$$scope:o}=e,{buttonText:t}=e,s=!1;const i=()=>l(1,s=!0);return r.$$set=a=>{"buttonText"in a&&l(0,t=a.buttonText),"$$scope"in a&&l(2,o=a.$$scope)},[t,s,o,n,i]}class j extends ne{constructor(e){super(),oe(this,e,Ie,Me,re,{buttonText:0})}}const Ne=r=>({}),ue=r=>({}),Ae=r=>({}),_e=r=>({});function Ce(r){let e,l,n,o,t,s,i,a,_,k;const h=r[7].title,c=ee(h,r,r[6],_e),w=r[7].body,g=ee(w,r,r[6],ue);return{c(){e=v("dialog"),l=v("button"),n=I("x"),o=L(),t=v("h1"),c&&c.c(),s=L(),i=v("div"),g&&g.c(),this.h()},l(m){e=$(m,"DIALOG",{class:!0});var E=y(e);l=$(E,"BUTTON",{class:!0});var A=y(l);n=N(A,"x"),A.forEach(u),o=M(E),t=$(E,"H1",{class:!0});var B=y(t);c&&c.l(B),B.forEach(u),s=M(E),i=$(E,"DIV",{class:!0});var C=y(i);g&&g.l(C),C.forEach(u),E.forEach(u),this.h()},h(){p(l,"class","close svelte-zci3n7"),p(t,"class","title"),p(i,"class","body"),p(e,"class","dialog svelte-zci3n7"),Q(e,"fullscreen",r[0]),Q(e,"fullscreenMobile",r[1])},m(m,E){S(m,e,E),d(e,l),d(l,n),d(e,o),d(e,t),c&&c.m(t,null),d(e,s),d(e,i),g&&g.m(i,null),r[8](e),a=!0,_||(k=[H(l,"click",r[2]),H(e,"click",r[4])],_=!0)},p(m,[E]){c&&c.p&&(!a||E&64)&&te(c,h,m,m[6],a?se(h,m[6],E,Ae):le(m[6]),_e),g&&g.p&&(!a||E&64)&&te(g,w,m,m[6],a?se(w,m[6],E,Ne):le(m[6]),ue),E&1&&Q(e,"fullscreen",m[0]),E&2&&Q(e,"fullscreenMobile",m[1])},i(m){a||(T(c,m),T(g,m),a=!0)},o(m){D(c,m),D(g,m),a=!1},d(m){m&&u(e),c&&c.d(m),g&&g.d(m),r[8](null),_=!1,ge(k)}}}function Fe(r,e,l){let{$$slots:n={},$$scope:o}=e,{fullScreen:t=!1}=e,{mobileFullScreen:s=!1}=e,i;function a(){i.showModal(),document.querySelector("body").style.overflowY="hidden"}function _(){i.close(),document.querySelector("body").style.overflowY=""}function k(c){const w=i.getBoundingClientRect();w.top<=c.clientY&&c.clientY<=w.top+w.height&&w.left<=c.clientX&&c.clientX<=w.left+w.width||_()}function h(c){be[c?"unshift":"push"](()=>{i=c,l(3,i)})}return r.$$set=c=>{"fullScreen"in c&&l(0,t=c.fullScreen),"mobileFullScreen"in c&&l(1,s=c.mobileFullScreen),"$$scope"in c&&l(6,o=c.$$scope)},[t,s,_,i,k,a,o,n,h]}class Ge extends ne{constructor(e){super(),oe(this,e,Fe,Ce,re,{fullScreen:0,mobileFullScreen:1,showModal:5,close:2})}get showModal(){return this.$$.ctx[5]}get close(){return this.$$.ctx[2]}}function me(r){return r.normalize("NFD").replace(/\p{Diacritic}/gu,"")}const qe={matchesAnswer:(r,e)=>me(r.toLowerCase())===me(e.toLowerCase())};function de(r){let e,l;return e=new Se({}),{c(){O(e.$$.fragment)},l(n){Y(e.$$.fragment,n)},m(n,o){R(e,n,o),l=!0},i(n){l||(T(e.$$.fragment,n),l=!0)},o(n){D(e.$$.fragment,n),l=!1},d(n){U(e,n)}}}function he(r){let e,l=(r[0].flavorText+"").replace(r[0].name,"BLANK")+"",n,o,t,s,i,a,_,k,h,c,w,g,m,E,A,B,C,K,F,V,J,ie;m=new j({props:{buttonText:"Show set",$$slots:{default:[Be]},$$scope:{ctx:r}}}),A=new j({props:{buttonText:"Show stage",$$slots:{default:[Oe]},$$scope:{ctx:r}}}),C=new j({props:{buttonText:"Show attack",$$slots:{default:[Ye]},$$scope:{ctx:r}}});let ve={mobileFullScreen:!0,$$slots:{body:[ze],title:[Ve]},$$scope:{ctx:r}};return F=new Ge({props:ve}),r[6](F),{c(){e=v("q"),n=I(l),o=L(),t=v("form"),s=v("input"),i=L(),a=v("button"),_=I("Submit"),k=L(),h=v("h1"),c=I("Lifelines"),w=L(),g=v("div"),O(m.$$.fragment),E=L(),O(A.$$.fragment),B=L(),O(C.$$.fragment),K=L(),O(F.$$.fragment),this.h()},l(f){e=$(f,"Q",{class:!0});var b=y(e);n=N(b,l),b.forEach(u),o=M(f),t=$(f,"FORM",{class:!0});var q=y(t);s=$(q,"INPUT",{type:!0,placeholder:!0,class:!0}),i=M(q),a=$(q,"BUTTON",{type:!0,class:!0});var z=y(a);_=N(z,"Submit"),z.forEach(u),q.forEach(u),k=M(f),h=$(f,"H1",{});var W=y(h);c=N(W,"Lifelines"),W.forEach(u),w=M(f),g=$(f,"DIV",{class:!0});var G=y(g);Y(m.$$.fragment,G),E=M(G),Y(A.$$.fragment,G),B=M(G),Y(C.$$.fragment,G),G.forEach(u),K=M(f),Y(F.$$.fragment,f),this.h()},h(){p(e,"class","flavor-text svelte-m0vp9x"),p(s,"type","text"),p(s,"placeholder","Your guess..."),p(s,"class","svelte-m0vp9x"),p(a,"type","submit"),p(a,"class","button-red-small"),p(t,"class","row guess-form svelte-m0vp9x"),p(g,"class","column")},m(f,b){S(f,e,b),d(e,n),S(f,o,b),S(f,t,b),d(t,s),ce(s,r[1]),d(t,i),d(t,a),d(a,_),S(f,k,b),S(f,h,b),d(h,c),S(f,w,b),S(f,g,b),R(m,g,null),d(g,E),R(A,g,null),d(g,B),R(C,g,null),S(f,K,b),R(F,f,b),V=!0,J||(ie=[H(s,"input",r[5]),H(t,"submit",Ee(r[4]))],J=!0)},p(f,b){(!V||b&1)&&l!==(l=(f[0].flavorText+"").replace(f[0].name,"BLANK")+"")&&P(n,l),b&2&&s.value!==f[1]&&ce(s,f[1]);const q={};b&257&&(q.$$scope={dirty:b,ctx:f}),m.$set(q);const z={};b&257&&(z.$$scope={dirty:b,ctx:f}),A.$set(z);const W={};b&257&&(W.$$scope={dirty:b,ctx:f}),C.$set(W);const G={};b&261&&(G.$$scope={dirty:b,ctx:f}),F.$set(G)},i(f){V||(T(m.$$.fragment,f),T(A.$$.fragment,f),T(C.$$.fragment,f),T(F.$$.fragment,f),V=!0)},o(f){D(m.$$.fragment,f),D(A.$$.fragment,f),D(C.$$.fragment,f),D(F.$$.fragment,f),V=!1},d(f){f&&u(e),f&&u(o),f&&u(t),f&&u(k),f&&u(h),f&&u(w),f&&u(g),U(m),U(A),U(C),f&&u(K),r[6](null),U(F,f),J=!1,ge(ie)}}}function Be(r){let e,l,n=r[0].set.name+"",o,t,s,i,a,_,k;return{c(){e=v("fieldset"),l=v("legend"),o=I(n),t=L(),s=v("img"),a=L(),_=v("img"),this.h()},l(h){e=$(h,"FIELDSET",{class:!0});var c=y(e);l=$(c,"LEGEND",{class:!0});var w=y(l);o=N(w,n),t=M(w),s=$(w,"IMG",{src:!0,class:!0}),w.forEach(u),a=M(c),_=$(c,"IMG",{src:!0,class:!0}),c.forEach(u),this.h()},h(){X(s.src,i=r[0].set.images.symbol)||p(s,"src",i),p(s,"class","set-icon svelte-m0vp9x"),p(l,"class","svelte-m0vp9x"),X(_.src,k=r[0].set.images.logo)||p(_,"src",k),p(_,"class","set-logo svelte-m0vp9x"),p(e,"class","answer svelte-m0vp9x")},m(h,c){S(h,e,c),d(e,l),d(l,o),d(l,t),d(l,s),d(e,a),d(e,_)},p(h,c){c&1&&n!==(n=h[0].set.name+"")&&P(o,n),c&1&&!X(s.src,i=h[0].set.images.symbol)&&p(s,"src",i),c&1&&!X(_.src,k=h[0].set.images.logo)&&p(_,"src",k)},d(h){h&&u(e)}}}function Oe(r){let e,l,n,o,t=r[0].subtypes.find(pe)+"",s;return{c(){e=v("fieldset"),l=v("legend"),n=I("Stage"),o=L(),s=I(t),this.h()},l(i){e=$(i,"FIELDSET",{class:!0});var a=y(e);l=$(a,"LEGEND",{class:!0});var _=y(l);n=N(_,"Stage"),_.forEach(u),o=M(a),s=N(a,t),a.forEach(u),this.h()},h(){p(l,"class","svelte-m0vp9x"),p(e,"class","answer svelte-m0vp9x")},m(i,a){S(i,e,a),d(e,l),d(l,n),d(e,o),d(e,s)},p(i,a){a&1&&t!==(t=i[0].subtypes.find(pe)+"")&&P(s,t)},d(i){i&&u(e)}}}function Ye(r){let e,l,n,o,t=r[0].attacks[Math.floor(Math.random()*r[0].attacks.length)].name+"",s;return{c(){e=v("fieldset"),l=v("legend"),n=I("Attack name"),o=L(),s=I(t),this.h()},l(i){e=$(i,"FIELDSET",{class:!0});var a=y(e);l=$(a,"LEGEND",{class:!0});var _=y(l);n=N(_,"Attack name"),_.forEach(u),o=M(a),s=N(a,t),a.forEach(u),this.h()},h(){p(l,"class","svelte-m0vp9x"),p(e,"class","answer svelte-m0vp9x")},m(i,a){S(i,e,a),d(e,l),d(l,n),d(e,o),d(e,s)},p(i,a){a&1&&t!==(t=i[0].attacks[Math.floor(Math.random()*i[0].attacks.length)].name+"")&&P(s,t)},d(i){i&&u(e)}}}function Re(r){let e;return{c(){e=I("Wrong guess!")},l(l){e=N(l,"Wrong guess!")},m(l,n){S(l,e,n)},d(l){l&&u(e)}}}function Ue(r){let e;return{c(){e=I("You were right!")},l(l){e=N(l,"You were right!")},m(l,n){S(l,e,n)},d(l){l&&u(e)}}}function Ve(r){let e;function l(t,s){return t[2]?Ue:Re}let n=l(r),o=n(r);return{c(){e=v("span"),o.c(),this.h()},l(t){e=$(t,"SPAN",{slot:!0});var s=y(e);o.l(s),s.forEach(u),this.h()},h(){p(e,"slot","title")},m(t,s){S(t,e,s),o.m(e,null)},p(t,s){n!==(n=l(t))&&(o.d(1),o=n(t),o&&(o.c(),o.m(e,null)))},d(t){t&&u(e),o.d()}}}function ze(r){let e,l;return e=new ye({props:{slot:"body",card:r[0],guessedCorrectly:r[2]}}),{c(){O(e.$$.fragment)},l(n){Y(e.$$.fragment,n)},m(n,o){R(e,n,o),l=!0},p(n,o){const t={};o&1&&(t.card=n[0]),o&4&&(t.guessedCorrectly=n[2]),e.$set(t)},i(n){l||(T(e.$$.fragment,n),l=!0)},o(n){D(e.$$.fragment,n),l=!1},d(n){U(e,n)}}}function We(r){let e,l,n,o=!r[0]&&de(),t=r[0]&&he(r);return{c(){e=v("div"),o&&o.c(),l=L(),t&&t.c(),this.h()},l(s){e=$(s,"DIV",{class:!0});var i=y(e);o&&o.l(i),l=M(i),t&&t.l(i),i.forEach(u),this.h()},h(){p(e,"class","column container svelte-m0vp9x")},m(s,i){S(s,e,i),o&&o.m(e,null),d(e,l),t&&t.m(e,null),n=!0},p(s,[i]){s[0]?o&&(Z(),D(o,1,1,()=>{o=null}),x()):o?i&1&&T(o,1):(o=de(),o.c(),T(o,1),o.m(e,l)),s[0]?t?(t.p(s,i),i&1&&T(t,1)):(t=he(s),t.c(),T(t,1),t.m(e,null)):t&&(Z(),D(t,1,1,()=>{t=null}),x())},i(s){n||(T(o),T(t),n=!0)},o(s){D(o),D(t),n=!1},d(s){s&&u(e),o&&o.d(),t&&t.d()}}}const pe=r=>r==="Basic"||r.startsWith("Stage");function He(r,e,l){let{card:n=null}=e,o="",t=!1,s;function i(){return qe.matchesAnswer(o,n.name)}function a(){l(2,t=i()),s.showModal()}function _(){o=this.value,l(1,o)}function k(h){be[h?"unshift":"push"](()=>{s=h,l(3,s)})}return r.$$set=h=>{"card"in h&&l(0,n=h.card)},[n,o,t,s,a,_,k]}class Xe extends ne{constructor(e){super(),oe(this,e,He,We,re,{card:0})}}export{Xe as C};
