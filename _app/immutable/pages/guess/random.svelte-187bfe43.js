import{S as u,i as p,s as _,l as h,x as g,m as b,p as C,y as w,h as i,b as y,z as P,f as S,t as $,C as k,M as D}from"../../chunks/index-eee36c3a.js";import{b as R}from"../../chunks/index-40bb28e8.js";import{b as d}from"../../chunks/paths-b9644fda.js";import{C as q}from"../../chunks/CardGuess-905d676b.js";import{P as x}from"../../chunks/PokemonApiService-a7bf15d7.js";import"../../chunks/singletons-eca981c1.js";import"../../chunks/close-icon-2ac8c1d9.js";function z(m){let r,t,s,n={card:m[0]};return t=new q({props:n}),m[2](t),{c(){r=h("div"),g(t.$$.fragment)},l(a){r=b(a,"DIV",{});var o=C(r);w(t.$$.fragment,o),o.forEach(i)},m(a,o){y(a,r,o),P(t,r,null),s=!0},p(a,[o]){const e={};o&1&&(e.card=a[0]),t.$set(e)},i(a){s||(S(t.$$.fragment,a),s=!0)},o(a){$(t.$$.fragment,a),s=!1},d(a){a&&i(r),m[2](null),k(t)}}}function A(m,r,t){let{card:s}=r,n;async function a(){var c,l;let e=(l=(c=n==null?void 0:n.getDialog())==null?void 0:c.close())!=null?l:await Promise.resolve(),f=x.getRandomCard();await e,t(0,s=null),t(0,s=await f)}s==null&&a(),R(e=>{e.from!=null&&e.to!=null&&e.from.pathname===e.to.pathname&&(e.to.pathname===`${d}/guess/random`||e.to.pathname===`/${d}/guess/random`)&&(e.cancel(),a())});function o(e){D[e?"unshift":"push"](()=>{n=e,t(1,n)})}return m.$$set=e=>{"card"in e&&t(0,s=e.card)},[s,n,o]}class B extends u{constructor(r){super(),p(this,r,A,z,_,{card:0})}}export{B as default};
