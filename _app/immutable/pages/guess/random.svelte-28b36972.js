import{S as c,i as f,s as d,x as l,y as p,z as u,f as i,t as g,C as _}from"../../chunks/index-e0e5bd9c.js";import{P as m}from"../../chunks/PokemonApiService-f35c2ef0.js";import{a as $}from"../../chunks/navigation-c69a4831.js";import{b as n}from"../../chunks/paths-b9644fda.js";import{C as h}from"../../chunks/CardGuess-e23c24b4.js";import"../../chunks/_commonjsHelpers-cea7ac1a.js";import"../../chunks/singletons-eca981c1.js";import"../../chunks/Modal.svelte_svelte_type_style_lang-74ff36d8.js";import"../../chunks/Flipable-9dee1e78.js";function C(s){let r,o;return r=new h({props:{card:s[0]}}),{c(){l(r.$$.fragment)},l(e){p(r.$$.fragment,e)},m(e,a){u(r,e,a),o=!0},p(e,[a]){const t={};a&1&&(t.card=e[0]),r.$set(t)},i(e){o||(i(r.$$.fragment,e),o=!0)},o(e){g(r.$$.fragment,e),o=!1},d(e){_(r,e)}}}const A=!1;async function G({params:s,fetch:r,session:o,stuff:e}){console.log("load");let a=await m.getRandomCard();return console.log(a),{status:200,props:{card:a}}}function x(s,r,o){let{card:e}=r;$(t=>{console.log(t),t.from!=null&&t.to!=null&&t.from.pathname===t.to.pathname&&(t.to.pathname===`${n}/guess/random`||t.to.pathname===`/${n}/guess/random`)&&a()});function a(){console.log("reload card"),m.getRandomCard().then(t=>{o(0,e=t)})}return s.$$set=t=>{"card"in t&&o(0,e=t.card)},[e]}class N extends c{constructor(r){super(),f(this,r,x,C,d,{card:0})}}export{N as default,G as load,A as prerender};
